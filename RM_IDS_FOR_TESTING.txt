RM USER IDs FOR TESTING DATA ISOLATION
========================================

Run this command to get current RM user IDs:

TOKEN=$(curl -s -X POST "http://localhost:8080/realms/master/protocol/openid-connect/token" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin" -d "password=admin" \
  -d "grant_type=password" -d "client_id=admin-cli" \
  | python3 -c "import sys, json; print(json.load(sys.stdin)['access_token'])")

echo "RM1 ID:"
curl -s -X GET "http://localhost:8080/admin/realms/los/users?username=rm1" \
  -H "Authorization: Bearer $TOKEN" \
  | python3 -c "import sys, json; users=json.load(sys.stdin); print(users[0]['id'] if users else 'NOT_FOUND')"

echo "RM2 ID:"
curl -s -X GET "http://localhost:8080/admin/realms/los/users?username=rm2" \
  -H "Authorization: Bearer $TOKEN" \
  | python3 -c "import sys, json; users=json.load(sys.stdin); print(users[0]['id'] if users else 'NOT_FOUND')"

echo "RM3 ID:"
curl -s -X GET "http://localhost:8080/admin/realms/los/users?username=rm3" \
  -H "Authorization: Bearer $TOKEN" \
  | python3 -c "import sys, json; users=json.load(sys.stdin); print(users[0]['id'] if users else 'NOT_FOUND')"

========================================
TESTING DATA ISOLATION
========================================

Each RM should only see applications assigned to them:

RM1 Login: rm1 / rm1
  → Should see 10 applications (assigned to RM1)

RM2 Login: rm2 / rm2  
  → Should see 10 DIFFERENT applications (assigned to RM2)

RM3 Login: rm3 / rm3
  → Should see 10 DIFFERENT applications (assigned to RM3)

Admin Login: admin1 / admin1
  → Should see ALL applications (30+ assigned + unassigned)

========================================
VERIFICATION
========================================

Check assignments in database:
docker exec los-postgres psql -U los -d los -c \
  "SELECT assigned_to, COUNT(*) FROM applications WHERE assigned_to IS NOT NULL GROUP BY assigned_to;"

Check what each RM sees via API (requires auth tokens):
- RM1 API: Should return 10 applications
- RM2 API: Should return 10 different applications  
- RM3 API: Should return 10 different applications
- Admin API: Should return all applications

